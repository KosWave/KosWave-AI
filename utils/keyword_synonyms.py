"""Keyword synonym mappings for rule-based query expansion"""
from typing import Optional


# 도메인 특화 키워드 동의어/확장 룰 기반 맵
# LLM 호출을 줄이고 도메인 안정성을 높임
KEYWORD_SYNONYMS = {
    "마스카라": ["화장품", "메이크업", "색조", "K-뷰티", "뷰티", "코스메틱"],
    "립스틱": ["화장품", "메이크업", "색조", "뷰티", "코스메틱"],
    "아이섀도": ["화장품", "메이크업", "색조", "뷰티", "코스메틱"],
    "파운데이션": ["화장품", "메이크업", "베이스", "뷰티", "코스메틱"],
    "스킨케어": ["화장품", "뷰티", "코스메틱", "기초화장품"],
    
    "라면": ["식품", "면류", "간편식", "스낵", "인스턴트"],
    "과자": ["식품", "스낵", "제과"],
    "음료": ["식품", "음료수", "beverage"],
    
    "반도체": ["DRAM", "낸드", "NAND", "메모리", "파운드리", "시스템반도체", "칩"],
    "메모리": ["반도체", "DRAM", "낸드", "NAND", "플래시"],
    "DRAM": ["반도체", "메모리"],
    
    "배터리": ["2차전지", "전기차", "EV", "ESS", "양극재", "음극재", "리사이클링"],
    "2차전지": ["배터리", "전기차", "EV", "ESS"],
    "전기차": ["배터리", "2차전지", "EV", "모빌리티"],
    
    "AI": ["인공지능", "머신러닝", "딥러닝", "GPT", "생성형AI"],
    "인공지능": ["AI", "머신러닝", "딥러닝", "LLM"],
    
    "게임": ["엔터테인먼트", "모바일게임", "PC게임", "콘솔게임"],
    "엔터테인먼트": ["게임", "미디어", "콘텐츠"],
    
    "바이오": ["제약", "헬스케어", "의료", "신약"],
    "제약": ["바이오", "헬스케어", "의약품"],
    "불닭": ["불닭볶음면", "삼양식품", "매운라면", "인스턴트면", "즉석식품","매운소스", "캡사이신", "식품업", "라면시장", "편의점", "원가", "수출"]
}


def rule_expand_keyword(keyword: str) -> Optional[str]:
    """
    룰 기반 키워드 확장
    
    Args:
        keyword: 입력 키워드
        
    Returns:
        확장된 쿼리 문자열 또는 None (룰이 없는 경우)
    """
    if keyword in KEYWORD_SYNONYMS:
        return f"{keyword} / " + " / ".join(KEYWORD_SYNONYMS[keyword])
    return None
